<div class="find-doctors-container">
   <div class="search-section">
    <div class="search-filters">
      <input
        type="text"
        [(ngModel)]="searchFilters.name"
        placeholder="Doctor name"
        (keyup.enter)="searchDoctors()"
        class="search-input"
      />

      <select [(ngModel)]="searchFilters.specialty" (change)="searchDoctors()" class="search-select">
        <option value="">All Specializations</option>
        <option *ngFor="let spec of specialties" [value]="spec">
          {{ spec }}
        </option>
      </select>

      <input
        type="text"
        [(ngModel)]="searchFilters.practiceName"
        placeholder="Practice name"
        (keyup.enter)="searchDoctors()"
        class="search-input"
      />

      <button (click)="searchDoctors()" class="btn-primary">Search</button>
      <button (click)="findNearbyDoctors()" class="btn-secondary">Near Me</button>
      <button (click)="clearFilters()" class="btn-link">Clear</button>
    </div>
  </div>

  <div *ngIf="loading" class="loading">Searching doctors...</div>

  <div class="row g-3">
    <div *ngFor="let doctor of doctors" class="col-12 col-md-6 col-lg-4">
      <div class="doctor-card h-100 d-flex flex-column justify-content-between">
        <div class="doctor-info">
          <h3>Dr. {{ doctor.fullName }}</h3>
          <p class="specialty">{{ doctor.specialization || 'General Practice' }}</p>
          <p class="location">{{ doctor.hospitalAddress?.city }}, {{ doctor.hospitalAddress?.province }}</p>
          <p class="fee">Consultation: R{{ doctor.consultationFees }}</p>
        </div>
        <div class="card-actions">
          <button (click)="viewDoctorProfile(doctor.id)" class="btn-view">View Profile</button>
          <button (click)="bookAppointment(doctor.id)" class="btn-book">Book Appointment</button>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!loading && doctors.length === 0" class="empty-state">
    <p>No doctors found. Try adjusting your search criteria.</p>
  </div>
</div>
